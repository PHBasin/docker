(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"6pQJ":function(e,t,o){"use strict";o.r(t),o.d(t,"MovieModule",(function(){return z}));var i=o("ofXK"),n=o("tyNb"),r=o("fXoL"),a=o("Wp6s"),c=o("bTqV");let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Db({type:e,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:16,vars:7,consts:[[1,"movie-card"],["mat-card-image","",3,"src","alt"],["mat-button",""],["routerLinkActive","active",1,"menu-link",3,"routerLink"]],template:function(e,t){1&e&&(r.Ob(0,"mat-card",0),r.Ob(1,"mat-card-header"),r.Ob(2,"mat-card-title"),r.lc(3),r.Nb(),r.Ob(4,"mat-card-subtitle"),r.lc(5),r.Nb(),r.Nb(),r.Kb(6,"img",1),r.Ob(7,"mat-card-content"),r.Ob(8,"p"),r.lc(9),r.Nb(),r.Nb(),r.Ob(10,"mat-card-actions"),r.Ob(11,"button",2),r.lc(12,"LIKE"),r.Nb(),r.Ob(13,"a",3),r.Ob(14,"button",2),r.lc(15,"VIEW"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&e&&(r.zb(3),r.mc(t.movie.title),r.zb(2),r.oc("( ",t.movie.year,", ",t.movie.duration," mn)"),r.zb(1),r.bc("src",t.movie.posterUri||"assets/clap.svg",r.gc),r.cc("alt","Poster movie ",t.movie.title,""),r.zb(3),r.nc("",t.movie.synopsis," "),r.zb(4),r.cc("routerLink","detail/",t.movie.id,""))},directives:[a.a,a.d,a.h,a.g,a.e,a.c,a.b,c.a,n.c,n.b],styles:[".mat-card-image[_ngcontent-%COMP%]{width:200px;margin:15px}"]}),e})();var m=o("AytR"),b=o("tk/3");let l=(()=>{class e{constructor(e){this.http=e}getMovieAsPromise(e){return this.http.get(`${m.a.apiBaseUrl}/movies/${e}`).toPromise()}getMoviesAsPromise(){return this.http.get(m.a.apiBaseUrl+"/movies").toPromise()}getMoviesAsObservable(){return this.http.get(m.a.apiBaseUrl+"/movies")}createMovie(e){return console.log("send http post to create movie:"),console.log(e),this.http.post(m.a.apiBaseUrl+"/movies",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(b.a))},e.\u0275prov=r.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function v(e,t){1&e&&r.Kb(0,"app-movie-card",2),2&e&&r.ac("movie",t.$implicit)}let d=(()=>{class e{constructor(e){this.movieService=e}ngOnInit(){this.loadMovies()}ngAfterViewInit(){console.log(this.movieCards.first)}loadMovies(){this.movieService.getMoviesAsPromise().then(e=>this.movies=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(l))},e.\u0275cmp=r.Db({type:e,selectors:[["app-movie-list"]],viewQuery:function(e,t){var o;1&e&&r.pc(s,!0),2&e&&r.dc(o=r.Wb())&&(t.movieCards=o)},decls:2,vars:1,consts:[["id","movies-container"],[3,"movie",4,"ngFor","ngForOf"],[3,"movie"]],template:function(e,t){1&e&&(r.Ob(0,"div",0),r.kc(1,v,1,1,"app-movie-card",1),r.Nb()),2&e&&(r.zb(1),r.ac("ngForOf",t.movies))},directives:[i.h,s],styles:["#movies-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]}),e})();var u=o("3Pt+"),p=o("kmnG"),g=o("qFsG");let f=(()=>{class e{constructor(){this.newMovie=new r.n,this.movie={}}ngOnInit(){}submitMovie(){console.log("submitMovie"),console.log(this.movie),this.newMovie.emit(this.movie)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Db({type:e,selectors:[["app-movie-form"]],outputs:{newMovie:"newMovie"},decls:20,vars:5,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"example-full-width"],["matInput","","placeholder","","required","","minlength","1","name","title",3,"ngModel","ngModelChange"],["matInput","","placeholder","","required","","min","1","name","year",3,"ngModel","ngModelChange"],["matInput","","placeholder","","min","1","name","duration",3,"ngModel","ngModelChange"],["matInput","","placeholder","","name","posterUri",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){if(1&e&&(r.Ob(0,"form",0,1),r.Vb("ngSubmit",(function(){return t.submitMovie()})),r.Ob(2,"mat-form-field",2),r.Ob(3,"mat-label"),r.lc(4,"Title"),r.Nb(),r.Ob(5,"input",3),r.Vb("ngModelChange",(function(e){return t.movie.title=e})),r.Nb(),r.Nb(),r.Ob(6,"mat-form-field",2),r.Ob(7,"mat-label"),r.lc(8,"Year"),r.Nb(),r.Ob(9,"input",4),r.Vb("ngModelChange",(function(e){return t.movie.year=e})),r.Nb(),r.Nb(),r.Ob(10,"mat-form-field",2),r.Ob(11,"mat-label"),r.lc(12,"Duration"),r.Nb(),r.Ob(13,"input",5),r.Vb("ngModelChange",(function(e){return t.movie.duration=e})),r.Nb(),r.Nb(),r.Ob(14,"mat-form-field",2),r.Ob(15,"mat-label"),r.lc(16,"Poster"),r.Nb(),r.Ob(17,"input",6),r.Vb("ngModelChange",(function(e){return t.movie.posterUri=e})),r.Nb(),r.Nb(),r.Ob(18,"button",7),r.lc(19,"Add"),r.Nb(),r.Nb()),2&e){const e=r.ec(1);r.zb(5),r.ac("ngModel",t.movie.title),r.zb(4),r.ac("ngModel",t.movie.year),r.zb(4),r.ac("ngModel",t.movie.duration),r.zb(4),r.ac("ngModel",t.movie.posterUri),r.zb(1),r.ac("disabled",!e.valid)}},directives:[u.k,u.g,u.h,p.a,p.d,g.a,u.a,u.j,u.d,u.f,u.i,c.a],styles:["form[_ngcontent-%COMP%]{text-align:center}"]}),e})();function h(e,t){if(1&e&&(r.Ob(0,"span"),r.lc(1),r.Nb()),2&e){const e=r.Xb(2);r.zb(1),r.nc(", ",e.movie.duration," mn")}}function O(e,t){if(1&e&&(r.Ob(0,"li"),r.lc(1),r.Nb()),2&e){const e=t.$implicit;r.zb(1),r.mc(e.name)}}function M(e,t){if(1&e&&(r.Ob(0,"mat-card",1),r.Ob(1,"mat-card-header"),r.Ob(2,"mat-card-title",2),r.lc(3),r.Nb(),r.Ob(4,"mat-card-subtitle"),r.lc(5,"("),r.Ob(6,"span",3),r.lc(7),r.Nb(),r.kc(8,h,2,1,"span",4),r.lc(9,") "),r.Nb(),r.Ob(10,"mat-card-subtitle"),r.lc(11),r.Nb(),r.Nb(),r.Kb(12,"img",5),r.Ob(13,"mat-card-content"),r.Ob(14,"p"),r.lc(15),r.Nb(),r.Ob(16,"p"),r.lc(17,"Casting"),r.Nb(),r.Ob(18,"ul"),r.kc(19,O,2,1,"li",6),r.Nb(),r.Nb(),r.Ob(20,"mat-card-actions"),r.Ob(21,"button",7),r.lc(22,"LIKE"),r.Nb(),r.Ob(23,"a",8),r.Ob(24,"button",7),r.lc(25,"BACK"),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&e){const e=r.Xb();r.zb(3),r.mc(e.movie.title),r.zb(4),r.mc(e.movie.year),r.zb(1),r.ac("ngIf",!0),r.zb(3),r.nc("Directed by ",null==e.movie.director?null:e.movie.director.name,""),r.zb(1),r.bc("src",e.movie.posterUri||"assets/clap.svg",r.gc),r.cc("alt","Poster movie ",e.movie.title,""),r.zb(3),r.nc("",e.movie.synopsis," "),r.zb(4),r.ac("ngForOf",e.movie.actors)}}const N=[{path:"",component:(()=>{class e{constructor(e){this.movieService=e}ngOnInit(){}addMovie(e){let t=this.movieService.createMovie(e);console.log("Movie added in front:"),console.log(e),t.subscribe(e=>{this.movieListComp.movies.push(e),console.log("Movie added in backend:"),console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(l))},e.\u0275cmp=r.Db({type:e,selectors:[["app-movie-dashboard"]],viewQuery:function(e,t){var o;1&e&&r.pc(d,!0),2&e&&r.dc(o=r.Wb())&&(t.movieListComp=o.first)},decls:2,vars:0,consts:[[3,"newMovie"]],template:function(e,t){1&e&&(r.Ob(0,"app-movie-form",0),r.Vb("newMovie",(function(e){return t.addMovie(e)})),r.Nb(),r.Kb(1,"app-movie-list"))},directives:[f,d],styles:[""]}),e})()},{path:"detail/:id",component:(()=>{class e{constructor(e,t){this.route=e,this.movieService=t}ngOnInit(){this.loadMovie()}loadMovie(){const e=this.route.snapshot.paramMap.get("id");this.movieService.getMovieAsPromise(+e).then(e=>this.movie=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(n.a),r.Jb(l))},e.\u0275cmp=r.Db({type:e,selectors:[["app-movie-detail"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[["class","movie-card",4,"ngIf"],[1,"movie-card"],["color","primary"],[1,"year"],[4,"ngIf"],["mat-card-image","",3,"src","alt"],[4,"ngFor","ngForOf"],["mat-button",""],["routerLink","../.."]],template:function(e,t){1&e&&r.kc(0,M,26,8,"mat-card",0),2&e&&r.ac("ngIf",t.movie)},directives:[i.i,a.a,a.d,a.h,a.g,a.e,a.c,i.h,a.b,c.a,n.c],styles:[".mat-card-image[_ngcontent-%COMP%]{width:400px;margin:15px}.year[_ngcontent-%COMP%]{font-size:110%}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[n.d.forChild(N)],n.d]}),e})();var w=o("FpXt");let z=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[i.b,y,w.a]]}),e})()}}]);